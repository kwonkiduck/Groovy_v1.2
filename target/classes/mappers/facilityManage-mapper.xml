<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.groovy.reservation.FacilityManageMapper">

<!-- 시설 예약 현황 조회 -->
<select id="getAllReservedRooms" resultType="facilityVO">
	SELECT 
	    FCLTY_RESVE_SN,
	    FCLTY_RESVE_BEGIN_TIME, 
    	FCLTY_RESVE_END_TIME,
	    FCLTY_RESVE_REQUST_MATTER,
	    FCLTY_RESVE_EMPL_ID,
	    COMMON_CODE_RESVE_AT,
	    COMMON_CODE_FCLTY_KIND
	FROM FCLTY_RESVE
	ORDER BY FCLTY_RESVE_SN ASC
</select>

<!-- 예약 삭제 -->
<delete id="delReserve" parameterType="int">
	DELETE  FROM FCLTY_RESVE 
	WHERE FCLTY_RESVE_SN = #{fcltyResveSn}
</delete>

<!-- 시설 갯수 -->
<select id="getMeetingRoom" resultType="facilityVO" parameterType="String">
	SELECT COUNT(COMMON_CODE_FCLTY_KIND)
	FROM FCLTY
	WHERE COMMON_CODE_FCLTY_KIND LIKE '%'||#{commonCodeFcltyKind}||'%'
</select>


</mapper>